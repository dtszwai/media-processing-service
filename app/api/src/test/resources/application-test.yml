server:
  port: 0

spring:
  application:
    name: media-service-test
  main:
    allow-bean-definition-overriding: true
  servlet:
    multipart:
      enabled: true
      max-file-size: 100MB
      max-request-size: 100MB

aws:
  region: us-west-2
  dynamodb:
    table-name: media
  s3:
    bucket-name: media-bucket
  sns:
    topic-arn: arn:aws:sns:us-west-2:000000000000:media-management-topic

media:
  width:
    default: 500
    min: 100
    max: 1024
  max-file-size: 104857600

# Disable Rate Limiting for tests
rate-limiting:
  enabled: false
  api:
    requests-per-minute: 10000
    burst-capacity: 10000
  upload:
    requests-per-minute: 10000
    burst-capacity: 10000

# Disable Resilience4j circuit breakers for tests
resilience4j:
  circuitbreaker:
    instances:
      s3CircuitBreaker:
        register-health-indicator: false
      dynamoDbCircuitBreaker:
        register-health-indicator: false
      snsCircuitBreaker:
        register-health-indicator: false

# Disable OpenTelemetry for tests
otel:
  sdk:
    disabled: true

management:
  endpoints:
    web:
      exposure:
        include: health

logging:
  level:
    root: WARN
    com.mediaservice: INFO
    org.testcontainers: INFO
